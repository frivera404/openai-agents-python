[mypy]
python_version = 3.14
check_untyped_defs = True
warn_unused_ignores = True
warn_unused_configs = True
ignore_missing_imports = False
namespace_packages = True

# Allow additional stubs folder so we can add lightweight project-local stubs for noisy
# third-party packages (e.g., minimal openai types used only for static checking).
mypy_path = stubs

# Make `src` the strict area we care about. This enables many strong checks
# there while keeping tests/examples noisy imports out of the way.
[mypy-src.*]
strict = True

# Known noisy third-party packages used in tests/examples - silence missing imports
[mypy-numpy.*]
ignore_missing_imports = True
[mypy-numpy]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True
[mypy-pytest]
ignore_missing_imports = True

[mypy-litellm.*]
ignore_missing_imports = True
[mypy-litellm]
ignore_missing_imports = True

[mypy-playwright.*]
ignore_missing_imports = True
[mypy-playwright]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True
[mypy-redis]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True
[mypy-sqlalchemy]
ignore_missing_imports = True

[mypy-fakeredis.*]
ignore_missing_imports = True
[mypy-fakeredis]
ignore_missing_imports = True

# If you later want to exclude tests/examples entirely from a strict run, add:
# exclude = ^(tests|examples)/

# ----------------------------
# Temporary relaxations
# ----------------------------
# The openai and pydantic packages are noisy in this repo (many attribute
# and shape differences between installed libs and the code's expectations).
# To make internal typing work productive, temporarily relax mypy checking
# for those packages. This is intended as a short-term measure while we
# iterate on project-local stubs or upstream pins.

[mypy-openai.*]
ignore_missing_imports = True

[mypy-openai]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-pydantic]
ignore_missing_imports = True
